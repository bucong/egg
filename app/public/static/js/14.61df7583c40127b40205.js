webpackJsonp([14],{F8WV:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("sf/l"),s=e("f+26"),o=e("5CpS"),a=e("Au9i"),c={name:"manage",data:function(){return{list:[],uploadId:"",sub:"",IMG:o.a}},created:function(){Object(n.a)("配置首页图片"),this.getList()},methods:{getList:function(){var t=this;Object(s.a)("get","img/list",{imgType:1},function(i){t.list=i})},uploadFile:function(t){var i=this;this.file=t.target.files[0];var e=new FormData;e.append("imgFile",this.file),Object(s.a)("post","upload/img",e,function(t){var e=t;Object(s.a)("get","img/set",{id:i.uploadId,img:e},function(){i.list[i.sub].img=e,Object(a.Toast)({message:"上传成功",position:"bottom"})})})},upMove:function(t,i,e){var n=this;a.Indicator.open("加载中。。。"),Object(s.a)("get","img/moveSort",{exchangeId1:t,sort1:i,exchangeId2:this.list[e-1].id,sort2:this.list[e-1].sort},function(t){n.list=[],n.getList()})},downMove:function(t,i,e){var n=this;a.Indicator.open("加载中。。。"),Object(s.a)("get","img/moveSort",{exchangeId1:t,sort1:i,exchangeId2:this.list[e+1].id,sort2:this.list[e+1].sort},function(t){n.list=[],n.getList()})}}},l={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"admin-manage"},[e("h1",[t._v("首页展示图配置")]),t._v(" "),e("input",{attrs:{type:"file",id:"upload",multiple:"multiple"},on:{change:function(i){t.uploadFile(i)}}}),t._v(" "),e("ul",t._l(t.list,function(i,n){return e("li",{staticClass:"flex"},[e("label",{staticClass:"imgbg",style:{backgroundImage:"url("+t.IMG+i.img+")"},attrs:{for:"upload"},on:{click:function(e){t.uploadId=i.id,t.sub=n}}}),t._v(" "),e("div",{staticClass:"operate flex"},[e("span",[e("i",{staticClass:"iconfont up",on:{click:function(e){t.upMove(i.id,i.sort,n)}}},[t._v("")])]),t._v(" "),e("span",[e("i",{staticClass:"iconfont down",on:{click:function(e){t.downMove(i.id,i.sort,n)}}},[t._v("")])])])])}))])},staticRenderFns:[]};var u=e("VU/8")(c,l,!1,function(t){e("cocC")},"data-v-0181fa7c",null);i.default=u.exports},cocC:function(t,i){}});