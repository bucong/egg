webpackJsonp([11],{MEMh:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("BO1k"),n=i.n(r),s=i("sf/l"),a=i("f+26"),o=i("Au9i"),c={name:"myOrder",data:function(){return{userInfo:{},list:[]}},created:function(){var t=this;this.userInfo=JSON.parse(Object(s.c)("get","userInfo")),Object(s.a)("我的订单"),Object(a.a)("get","order/userOrder",{userId:this.userInfo.id},function(e){var i=!0,r=!1,a=void 0;try{for(var o,c=n()(e);!(i=(o=c.next()).done);i=!0){var l=o.value;l.times=Object(s.e)(l.times)}}catch(t){r=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(r)throw a}}t.list=e})},methods:{cancelOrder:function(t){var e=this;o.MessageBox.confirm("确定执行此操作?").then(function(i){i&&Object(a.a)("get","order/cancel",{id:t},function(i){var r=!0,s=!1,a=void 0;try{for(var o,c=n()(e.list);!(r=(o=c.next()).done);r=!0){var l=o.value;l.id===t&&(l.state=3)}}catch(t){s=!0,a=t}finally{try{!r&&c.return&&c.return()}finally{if(s)throw a}}})})},finishOrder:function(t){var e=this;Object(a.a)("get","order/finish",{id:t},function(i){var r=!0,s=!1,a=void 0;try{for(var o,c=n()(e.list);!(r=(o=c.next()).done);r=!0){var l=o.value;l.id===t&&(l.state=4)}}catch(t){s=!0,a=t}finally{try{!r&&c.return&&c.return()}finally{if(s)throw a}}})},deleteOrder:function(t){var e=this;o.MessageBox.confirm("确定执行此操作?").then(function(i){i&&Object(a.a)("get","order/delete",{id:t},function(i){Object(o.Toast)({message:"删除订单成功",position:"bottom"});for(var r=0;r<e.list.length;r++)e.list[r].id===t&&e.list.splice(r,1)})})}}},l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"my-order"},[t.list.length>0?r("div",[r("ul",t._l(this.list,function(e){return r("li",[r("router-link",{attrs:{to:{path:"/orderDetail?id="+e.id}}},[r("div",{staticClass:"store flex"},[r("div",{staticClass:"flex"},[r("img",{attrs:{src:i("mmh7"),alt:""}}),t._v(" "),r("h3",[t._v(t._s(e.store))])]),t._v(" "),r("div",{staticClass:"state"},[1===e.state?r("span",[t._v("未接单")]):2===e.state?r("span",[t._v("已接单")]):3===e.state?r("span",[t._v("已取消")]):4===e.state?r("span",[t._v("待评价")]):5===e.state?r("span",[t._v("已完成")]):t._e()])]),t._v(" "),r("div",{staticClass:"info"},[r("p",[t._v("订单号："+t._s(e.id))]),t._v(" "),r("p",[t._v("时间："+t._s(e.times))]),t._v(" "),r("p",[t._v("总价："+t._s(e.price))])])]),t._v(" "),r("div",{staticClass:"operate"},[1===e.state?r("button",{on:{click:function(i){t.cancelOrder(e.id)}}},[t._v("取消订单")]):t._e(),t._v(" "),2===e.state?r("button",{on:{click:function(i){t.finishOrder(e.id)}}},[t._v("完成订单")]):t._e(),t._v(" "),3===e.state?r("button",{on:{click:function(i){t.deleteOrder(e.id)}}},[t._v("删除订单")]):4===e.state?r("router-link",{attrs:{to:{path:"/orderDetail?id="+e.id}}},[t._v("去评价")]):t._e()],1)],1)}))]):r("div",[t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"no-data"},[e("img",{attrs:{src:i("M/73"),alt:""}}),this._v(" "),e("p",[this._v("空空如也~")])])}]};var d=i("VU/8")(c,l,!1,function(t){i("kPS1")},"data-v-388bb4a5",null);e.default=d.exports},kPS1:function(t,e){}});