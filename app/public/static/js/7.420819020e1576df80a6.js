webpackJsonp([7],{"5xOa":function(t,e){},MEMh:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("BO1k"),a=r.n(i),s=r("sf/l"),n=r("f+26"),c=r("Au9i"),o={name:"myOrder",data:function(){return{userInfo:{},list:[]}},created:function(){var t=this;this.userInfo=JSON.parse(Object(s.c)("get","userInfo")),Object(s.a)("我的订单"),Object(n.a)("get","order/userOrder",{userId:this.userInfo.id},function(e){var r=!0,i=!1,n=void 0;try{for(var c,o=a()(e);!(r=(c=o.next()).done);r=!0){var l=c.value;l.times=Object(s.e)(l.times)}}catch(t){i=!0,n=t}finally{try{!r&&o.return&&o.return()}finally{if(i)throw n}}t.list=e})},methods:{cancelOrder:function(t){var e=this;c.MessageBox.confirm("确定执行此操作?").then(function(r){r&&Object(n.a)("get","order/cancel",{id:t},function(r){var i=!0,s=!1,n=void 0;try{for(var c,o=a()(e.list);!(i=(c=o.next()).done);i=!0){var l=c.value;l.id===t&&(l.state=3)}}catch(t){s=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}})})},finishOrder:function(t){var e=this;Object(n.a)("get","order/finish",{id:t},function(r){var i=!0,s=!1,n=void 0;try{for(var c,o=a()(e.list);!(i=(c=o.next()).done);i=!0){var l=c.value;l.id===t&&(l.state=4)}}catch(t){s=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(s)throw n}}})}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-order"},[t.list.length>0?i("div",[i("ul",t._l(this.list,function(e){return i("li",[i("router-link",{attrs:{to:{path:"/orderDetail?id="+e.id}}},[i("div",{staticClass:"store flex"},[i("div",{staticClass:"flex"},[i("img",{attrs:{src:r("mmh7"),alt:""}}),t._v(" "),i("h3",[t._v(t._s(e.store))])]),t._v(" "),i("div",{staticClass:"state"},[1===e.state?i("span",[t._v("未接单")]):2===e.state?i("span",[t._v("已接单")]):3===e.state?i("span",[t._v("已取消")]):4===e.state?i("span",[t._v("待评价")]):5===e.state?i("span",[t._v("已完成")]):t._e()])]),t._v(" "),i("div",{staticClass:"info"},[i("p",[t._v("订单号："+t._s(e.id))]),t._v(" "),i("p",[t._v("时间："+t._s(e.times))]),t._v(" "),i("p",[t._v("总价："+t._s(e.price))])])]),t._v(" "),i("div",{staticClass:"operate"},[1===e.state?i("button",{on:{click:function(r){t.cancelOrder(e.id)}}},[t._v("取消订单")]):t._e(),t._v(" "),2===e.state?i("button",{on:{click:function(r){t.finishOrder(e.id)}}},[t._v("完成订单")]):4===e.state?i("router-link",{attrs:{to:{path:"/orderDetail?id="+e.id}}},[t._v("去评价")]):t._e()],1)],1)}))]):i("div",[t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"no-data"},[e("img",{attrs:{src:r("M/73"),alt:""}}),this._v(" "),e("p",[this._v("空空如也~")])])}]};var v=r("VU/8")(o,l,!1,function(t){r("5xOa")},"data-v-cc384fe4",null);e.default=v.exports}});